(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{54:function(e,t,n){e.exports=n(70)},59:function(e,t,n){},60:function(e,t,n){},65:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),s=n.n(c),i=(n(59),n(26)),u=n(101),o=n(105),l=n(104),m=n(41),d=n.n(m);n(60);function p(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{onClick:function(t){setTimeout(window.responsiveVoice.speak(e.textData,e.location),50)},className:"speaker"},r.a.createElement(d.a,null)))}n(65);function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}var f=function(e){var t=e.data.split(/\r?\n/);return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",null,t.map(function(e){return function(e){switch(e.charAt(0)){case"@":var t=e.split("/")[0].trim().substring(1),n=e.substring(1).replace(t,"");return r.a.createElement("div",{className:"headword",key:Object(o.a)()},r.a.createElement("p",{className:"word-search-key"},h(t)),r.a.createElement("span",{className:"phon"},n),r.a.createElement("div",{className:"sound"},r.a.createElement(p,{textData:t,location:"US English Female"}),r.a.createElement("span",null,"us"),r.a.createElement(p,{textData:t,location:"UK English Female"}),r.a.createElement("span",null,"uk")),r.a.createElement("div",{className:"clear"}));case"*":return r.a.createElement("div",{key:Object(o.a)()},r.a.createElement("p",{className:"word-type"},h(e.substring(1).trim())),r.a.createElement("div",{className:"clear"}));case"!":case"-":return r.a.createElement("div",{key:Object(o.a)(),className:"word-meaning"},r.a.createElement("p",null,h(e.substring(1).trim())));case"=":var a=h(e.split("+")[0].substring(1).trim()),c=h(e.split("+")[1].substring(1).trim());return r.a.createElement("div",{key:Object(o.a)(),className:"word-sentence"},r.a.createElement("p",null,r.a.createElement("i",null,a)),r.a.createElement("p",null,r.a.createElement("i",null,c)));default:return e}}(e)})),r.a.createElement(u.a,{variant:"middle"}))},v=n(33),g=n(15),E=n.n(g),b=n(25),y=n(42),k=n(43),w=n(46),S=n(45),j=n(19),O=n.n(j),x="abcdefghijklmnopqrstuvwxyz",D="a1:a2:a3:b1:b2:c1:c2:c3:c4:c5:d1:d2:d3:e1:e2:f1:f2:g:h1:h2:i1:i2:i3:j:k:l1:l2:m1:m2:n:o:p1:p2:p3:p4:p5:q:r1:r2:r3:s:t1:t2:u1:u2:v:w:x:y:z";function N(e){return-1!==x.indexOf(e)}function C(){var e={},t=x.split("");return t.forEach(function(n){e[n]={completeIndexing:!1},t.forEach(function(t){t===n&&(e[n]["".concat(n,"~")]=[]),e[n]["".concat(n).concat(t)]=[]})}),e}function A(){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=D.split(":"),e.next=3,Promise.all(t.map(function(e){return fetch((t=e,"https://raw.githubusercontent.com/weewaves/MyDictionaryStorage/master/".concat(t,".txt"))).then(function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var t})).then(function(e){var n=C(),a=C(),r={};return t.forEach(function(t,n){var a=t.charAt(0);O.a.isArray(r[a])?r[a]=r[a].concat(e[n].split("\n\n")):r[a]=e[n].split("\n\n")}),x.split("").forEach(function(e){r[e].forEach(function(t){var r=t.substring(1,3),c=N(r.charAt(1))?r:"".concat(r.charAt(0),"~");O.a.isArray(n[e][c])&&n[e][c].push(t),O.a.isArray(a[e][c])&&a[e][c].push(t.split("/")[0].trim().substring(0))}),n[e].completeIndexing=!0}),{defData:n,hwData:a}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(t=t.toLowerCase())||t.trim().length<1||!N(t.charAt(0))?Promise.resolve([]):new Promise(function(n){var a=[],r=1!==t.length&&N(t.charAt(1))?t.substring(0,2):"".concat(t.charAt(0),"~");(a=e[t.charAt(0)][r].filter(function(e){return e.startsWith("@".concat(t))})).length>10&&(a=a.slice(0,10)),n(a)})}var B=Object(a.createContext)(),F=function(e){Object(w.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={dataLoaded:!1,suggestions:{},definitions:{},searchedDefinitions:[],searchedSuggestions:[]},a.doSuggest=function(e,t){a.suggestDebounce(e,t)},a.doSearch=function(e,t){a.searchDebounce(e,t)},a.searchDebounce=O.a.debounce(a.onSearch,100),a.suggestDebounce=O.a.debounce(a.onSuggest,100),a}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,this.setState({dataLoaded:!0}),this.setState({definitions:t.defData}),this.setState({suggestions:t.hwData});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.searchDebounce.cancel(),this.suggestDebounce.cancel()}},{key:"onSearch",value:function(e,t){var n=this;this.state.dataLoaded&&I(this.state.definitions,e,t).then(function(e){n.setState({searchedDefinitions:e})})}},{key:"onSuggest",value:function(e,t){var n=this;this.state.dataLoaded&&I(this.state.suggestions,e,t).then(function(e){n.setState({searchedSuggestions:e})})}},{key:"render",value:function(){return r.a.createElement(B.Provider,{value:Object(v.a)(Object(v.a)({},this.state),{},{doSearch:this.doSearch,doSuggest:this.doSuggest})},this.props.children)}}]),n}(r.a.Component),P=(n(69),n(103)),U=n(44),M=n.n(U);function T(e){var t=Object(a.useContext)(B),n=Object(a.useState)(!0),c=Object(i.a)(n,2),s=c[0],u=c[1],o=-1;function l(){var e=this.value;if(u(!1),!e)return!1;o=-1,u(!0)}function m(e){var t=document.getElementById("autocomplete-popup");t&&(t=t.getElementsByTagName("div")),40===e.keyCode?(o++,d(t)):38===e.keyCode?(o--,d(t)):13===e.keyCode&&(e.preventDefault(),o>-1&&t&&t[o].click())}function d(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),o>=e.length&&(o=0),o<0&&(o=e.length-1),e[o]&&e[o].classList.add("autocomplete-active")}return document.addEventListener("click",function(e){u(!1)}),Object(a.useEffect)(function(){var e=document.getElementById("searchInput");return e.addEventListener("input",l),e.addEventListener("keydown",m),function(){e.removeEventListener("input",l),e.removeEventListener("keydown",m)}}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"autocomplete-popup",className:"autocomplete-popup"},s&&t.searchedSuggestions.map(function(t,n){var a=t.substring(1);return r.a.createElement("div",{key:n,onClick:function(t){var n;n=a,e.onItemSelected(n),u(!1)}},r.a.createElement("strong",null,a),r.a.createElement("input",{type:"hidden",value:a}))})))}var W=function(e){var t=Object(a.useState)(e.searchQuery),n=Object(i.a)(t,2),c=n[0],s=n[1],u=Object(a.useContext)(B);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"searchBar"},r.a.createElement("div",{className:"searchInputWrapper"},r.a.createElement(P.a,{id:"searchInput",label:"Tra t\u1eeb",autoComplete:"off",className:"searchInput",margin:"normal",variant:"outlined",value:c,onChange:function(e){!function(e){s(e),u.doSuggest(e)}(e.target.value),e.persist()}}),r.a.createElement(T,{onItemSelected:function(e){s(e)},data:u.searchedDefinitions})),r.a.createElement(l.a,{className:"searchButton",onClick:function(e){e.persist(),u.doSearch(c)},"aria-label":"search",color:"inherit"},r.a.createElement(M.a,null))))},q=n(102),z=function(){var e=Object(a.useContext)(B),t=Object(a.useState)(""),n=Object(i.a)(t,1)[0];return r.a.createElement("div",{id:"dictionary"},r.a.createElement(q.a,{className:"card"},r.a.createElement(W,{searchQuery:n}),e.searchedDefinitions.map(function(e){return r.a.createElement(f,{key:Object(o.a)(),data:e})})))};function J(){return r.a.createElement("div",{className:"App"},r.a.createElement(F,null,r.a.createElement(z,null)))}var Q=document.getElementById("root");s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),Q)}},[[54,1,2]]]);
//# sourceMappingURL=main.f0eab89f.chunk.js.map